datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
  output = "../src/generated/prisma"
}

model Chromecast {
    id        Int      @id @default(autoincrement())
    name      String
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
    ipAddress String @unique
    room Room?
}

model Room {
    id        Int      @id @default(autoincrement())
    name      String
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
    chromecast Chromecast @relation(fields: [chromecastId], references: [id])
    chromecastId Int @unique
    active Boolean @default(true)
    guestName String?
    displayName String?
}

enum ActiveStatus {
    ACTIVE
    INACTIVE
    INACTIVE_EXIT
}

/* For Admin */
model User {
    id        Int      @id @default(autoincrement())
    username     String   @unique
    password     String
    name      String?
    type      UserType @default(MANAGER)
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
}

enum UserType {
    ADMIN
    MANAGER
}